<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tic Tac Toe</title>
<style>
  :root{
    --bg:#0f1724;
    --card:#0b1220;
    --accent:#38bdf8;
    --muted:#94a3b8;
    --x-color:#ef4444;
    --o-color:#60a5fa;
    --win-glow: 0 10px 30px rgba(56,189,248,0.12);
    --radius:12px;
  }
  *{box-sizing: border-box; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
  html,body{height:100%; margin:0; background:linear-gradient(180deg,#071023 0%, #071625 60%); color:#e6eef8;}
  .wrap{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
  }

  .board-card{
    width:min(720px,96vw);
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:var(--radius);
    padding:22px;
    box-shadow: var(--win-glow);
    border:1px solid rgba(255,255,255,0.03);
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:16px;
    margin-bottom:18px;
  }
  .title{
    display:flex;
    flex-direction:column;
  }
  .title h1{margin:0; font-size:1.25rem; letter-spacing:0.2px;}
  .title p{margin:4px 0 0 0; color:var(--muted); font-size:0.85rem;}

  .controls{
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn{
    background:transparent;
    color:var(--accent);
    border:1px solid rgba(56,189,248,0.16);
    padding:8px 12px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    font-size:0.9rem;
    transition:all .15s ease;
  }
  .btn:hover{transform:translateY(-2px); box-shadow:var(--win-glow);}
  .btn.secondary{
    color:var(--muted);
    border-color:rgba(255,255,255,0.04);
  }

  .status-row{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    margin-bottom:14px;
  }

  .indicator{
    display:flex;
    align-items:center;
    gap:10px;
  }
  .dot{
    width:12px;height:12px;border-radius:50%;
    background:var(--accent);
    box-shadow:0 6px 14px rgba(56,189,248,0.14);
  }
  .current-player{
    font-weight:700;
    font-size:0.98rem;
  }
  .muted{color:var(--muted); font-size:0.9rem;}

  /* grid */
  .grid{
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    gap:10px;
    padding:10px;
    margin-bottom:16px;
  }

  .cell{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
    aspect-ratio:1 / 1;
    border-radius:10px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:2.2rem;
    font-weight:800;
    cursor:pointer;
    color:var(--muted);
    transition:transform .08s ease, box-shadow .12s ease;
    user-select:none;
    border:1px solid rgba(255,255,255,0.03);
  }
  .cell:hover{transform:translateY(-4px); box-shadow:var(--win-glow);}
  .cell.disabled{cursor:default; opacity:0.92; transform:none; box-shadow:none;}
  .cell.x{ color: var(--x-color); text-shadow: 0 6px 18px rgba(239,68,68,0.08); }
  .cell.o{ color: var(--o-color); text-shadow: 0 6px 18px rgba(96,165,250,0.08); }

  .winning{
    outline: 3px solid rgba(96,165,250,0.12);
    box-shadow: 0 14px 40px rgba(96,165,250,0.08);
    transform: scale(1.03);
  }

  .scoreboard{
    display:flex;
    gap:12px;
    margin-top:6px;
    align-items:center;
  }
  .score{
    background:rgba(255,255,255,0.02);
    padding:8px 12px;
    border-radius:8px;
    border:1px solid rgba(255,255,255,0.02);
    min-width:84px;
    text-align:center;
  }
  .score strong{display:block; font-size:1.05rem;}
  .footer-note{color:var(--muted); font-size:0.82rem; margin-top:12px;}

  /* responsive smaller */
  @media (max-width:420px){
    .cell{font-size:1.6rem; border-radius:8px;}
    .board-card{padding:14px;}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="board-card" role="application" aria-label="Tic Tac Toe">
      <header>
        <div class="title">
          <h1>Tic Tac Toe</h1>
          <p class="muted">Play locally â€” 2 players. Click a square to place X or O.</p>
        </div>
        <div class="controls">
          <button id="restartBtn" class="btn">Restart Round</button>
          <button id="resetScoreBtn" class="btn secondary">Reset Scores</button>
        </div>
      </header>

      <div class="status-row">
        <div class="indicator" aria-live="polite">
          <div class="dot" id="turnDot" title="Current player"></div>
          <div>
            <div class="current-player" id="turnText">Turn: X</div>
            <div class="muted" id="subText">Make your move</div>
          </div>
        </div>

        <div>
          <div class="muted" style="text-align:right">Scores</div>
          <div class="scoreboard" aria-hidden="false">
            <div class="score" aria-label="X score"><small class="muted">X</small><strong id="scoreX">0</strong></div>
            <div class="score" aria-label="Tie score"><small class="muted">Ties</small><strong id="scoreT">0</strong></div>
            <div class="score" aria-label="O score"><small class="muted">O</small><strong id="scoreO">0</strong></div>
          </div>
        </div>
      </div>

      <main>
        <div class="grid" id="grid" role="grid" aria-label="tic tac toe grid">
          <!-- 9 cells inserted by JS -->
        </div>
      </main>

      <div class="footer-note">Tip: press number keys 1â€“9 to play (1 = bottom-left, 9 = top-right).</div>
    </div>
  </div>

<script>
/*
  Simple Tic Tac Toe
  - two-player local (X and O)
  - highlights winning line
  - keeps score and handles ties
  - keyboard shortcuts 1..9 map to cells
*/

// Game state
const WIN_COMBOS = [
  [0,1,2],[3,4,5],[6,7,8], // rows
  [0,3,6],[1,4,7],[2,5,8], // cols
  [0,4,8],[2,4,6]          // diagonals
];

let board = Array(9).fill('');
let current = 'X';
let running = true;
let scores = { X:0, O:0, T:0 };

const gridEl = document.getElementById('grid');
const turnText = document.getElementById('turnText');
const subText = document.getElementById('subText');
const turnDot = document.getElementById('turnDot');
const scoreX = document.getElementById('scoreX');
const scoreO = document.getElementById('scoreO');
const scoreT = document.getElementById('scoreT');
const restartBtn = document.getElementById('restartBtn');
const resetScoreBtn = document.getElementById('resetScoreBtn');

function createGrid(){
  gridEl.innerHTML = '';
  for(let i=0;i<9;i++){
    const btn = document.createElement('button');
    btn.className = 'cell';
    btn.setAttribute('data-index', i);
    btn.setAttribute('aria-label', `Cell ${i+1}`);
    btn.setAttribute('role','gridcell');
    btn.addEventListener('click', onCellClick);
    gridEl.appendChild(btn);
  }
}
function updateTurnUI(){
  turnText.textContent = `Turn: ${current}`;
  turnDot.style.background = current === 'X' ? getComputedStyle(document.documentElement).getPropertyValue('--x-color') : getComputedStyle(document.documentElement).getPropertyValue('--o-color');
  subText.textContent = running ? 'Make your move' : 'Round finished â€” restart to play again';
}
function onCellClick(e){
  if(!running) return;
  const idx = Number(e.currentTarget.dataset.index);
  if(board[idx]) return; // already taken
  makeMove(idx, current);
}

function makeMove(idx, player){
  board[idx] = player;
  const cell = gridEl.querySelector(`[data-index="${idx}"]`);
  cell.textContent = player;
  cell.classList.add(player.toLowerCase());
  cell.classList.add('disabled');

  const winner = checkWinner();
  if(winner){
    endRound(winner);
    return;
  }
  if(board.every(v => v !== '')){
    endRound('T'); // tie
    return;
  }
  // switch
  current = current === 'X' ? 'O' : 'X';
  updateTurnUI();
}

function checkWinner(){
  for(const combo of WIN_COMBOS){
    const [a,b,c] = combo;
    if(board[a] && board[a] === board[b] && board[a] === board[c]){
      return { winner: board[a], combo };
    }
  }
  return null;
}

function endRound(result){
  running = false;
  if(result === 'T'){
    subText.textContent = 'It\'s a tie!';
    scores.T++;
    scoreT.textContent = scores.T;
  } else {
    const { winner, combo } = result;
    subText.textContent = `Winner: ${winner} ðŸŽ‰`;
    scores[winner]++;
    if(winner === 'X') scoreX.textContent = scores.X;
    if(winner === 'O') scoreO.textContent = scores.O;
    // highlight winning cells
    combo.forEach(i=>{
      const el = gridEl.querySelector(`[data-index="${i}"]`);
      if(el) el.classList.add('winning');
    });
  }
  // disable remaining clickable cells
  gridEl.querySelectorAll('.cell').forEach(c => c.classList.add('disabled'));
}

function restartRound(){
  board = Array(9).fill('');
  current = 'X';
  running = true;
  updateTurnUI();
  gridEl.querySelectorAll('.cell').forEach(c => {
    c.textContent = '';
    c.className = 'cell';
    c.classList.remove('winning');
  });
}

function resetScores(){
  scores = { X:0, O:0, T:0 };
  scoreX.textContent = '0';
  scoreO.textContent = '0';
  scoreT.textContent = '0';
  restartRound();
}

// keyboard mapping: 1..9 map to bottom-left..top-right like numpad (optional choice).
// We'll map 1: bottom-left (6), 2: bottom-middle (7), ... simpler map: user-friendly left-to-right top-to-bottom:
const KEY_MAP = {
  '1':0,'2':1,'3':2,
  '4':3,'5':4,'6':5,
  '7':6,'8':7,'9':8
};

document.addEventListener('keydown', e => {
  const key = e.key;
  if(KEY_MAP[key] !== undefined){
    const idx = KEY_MAP[key];
    const el = gridEl.querySelector(`[data-index="${idx}"]`);
    if(el) el.click();
  } else if(key === 'r' || key === 'R'){
    restartRound();
  } else if(key === 'Escape'){
    resetScores();
  }
});

// wire buttons
restartBtn.addEventListener('click', restartRound);
resetScoreBtn.addEventListener('click', () => {
  if(confirm('Reset scores and restart round?')) resetScores();
});

// init
createGrid();
updateTurnUI();
</script>
</body>
</html>
